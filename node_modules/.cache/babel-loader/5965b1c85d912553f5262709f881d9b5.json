{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jorge\\\\Desktop\\\\proyectos\\\\1react\\\\bookshooks\\\\bookshooks\\\\src\\\\context\\\\user.js\";\n// user context\nimport React from \"react\";\nconst UserContext = React.createContext();\n\nfunction getUserFromLocalStorage() {\n  return localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {\n    username: null,\n    token: null\n  };\n}\n\nfunction UserProvider({\n  children\n}) {\n  // const [user, setUser] = React.useState({ username: null, token: null });\n  const [user, setUser] = React.useState(getUserFromLocalStorage());\n  const [height, setHeight] = React.useState(0);\n  React.useEffect(() => {\n    window.addEventListener(\"scroll\", () => {\n      setHeight(window.pageYOffset);\n    });\n    return () => window.removeEventListener(\"scroll\", () => {});\n  });\n\n  const userLogin = user => {\n    setUser(user);\n    localStorage.setItem(\"user\", JSON.stringify(user));\n  };\n\n  const userLogout = () => {\n    setUser({\n      username: null,\n      token: null\n    });\n    localStorage.removeItem(\"user\");\n  };\n\n  const [alert, setAlert] = React.useState({\n    show: false,\n    msg: \"\",\n    type: \"success\"\n  });\n\n  const showAlert = ({\n    msg,\n    type = \"success\"\n  }) => {\n    setAlert({\n      show: true,\n      msg,\n      type\n    });\n  };\n\n  const hideAlert = () => {\n    setAlert({ ...alert,\n      show: false\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      user,\n      userLogin,\n      userLogout,\n      alert,\n      showAlert,\n      hideAlert,\n      height\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, children);\n}\n\nexport { UserProvider, UserContext };","map":{"version":3,"sources":["C:/Users/Jorge/Desktop/proyectos/1react/bookshooks/bookshooks/src/context/user.js"],"names":["React","UserContext","createContext","getUserFromLocalStorage","localStorage","getItem","JSON","parse","username","token","UserProvider","children","user","setUser","useState","height","setHeight","useEffect","window","addEventListener","pageYOffset","removeEventListener","userLogin","setItem","stringify","userLogout","removeItem","alert","setAlert","show","msg","type","showAlert","hideAlert"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,WAAW,GAAGD,KAAK,CAACE,aAAN,EAApB;;AAEA,SAASC,uBAAT,GAAmC;AACjC,SAAOC,YAAY,CAACC,OAAb,CAAqB,MAArB,IACHC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CADG,GAEH;AAAEG,IAAAA,QAAQ,EAAE,IAAZ;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GAFJ;AAGD;;AAED,SAASC,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAoC;AAClC;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,KAAK,CAACc,QAAN,CAAeX,uBAAuB,EAAtC,CAAxB;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBhB,KAAK,CAACc,QAAN,CAAe,CAAf,CAA5B;AAEAd,EAAAA,KAAK,CAACiB,SAAN,CAAgB,MAAM;AACpBC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AACtCH,MAAAA,SAAS,CAACE,MAAM,CAACE,WAAR,CAAT;AACD,KAFD;AAGA,WAAO,MAAMF,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqC,MAAM,CAAE,CAA7C,CAAb;AACD,GALD;;AAOA,QAAMC,SAAS,GAAGV,IAAI,IAAI;AACxBC,IAAAA,OAAO,CAACD,IAAD,CAAP;AACAR,IAAAA,YAAY,CAACmB,OAAb,CAAqB,MAArB,EAA6BjB,IAAI,CAACkB,SAAL,CAAeZ,IAAf,CAA7B;AACD,GAHD;;AAKA,QAAMa,UAAU,GAAG,MAAM;AACvBZ,IAAAA,OAAO,CAAC;AAAEL,MAAAA,QAAQ,EAAE,IAAZ;AAAkBC,MAAAA,KAAK,EAAE;AAAzB,KAAD,CAAP;AACAL,IAAAA,YAAY,CAACsB,UAAb,CAAwB,MAAxB;AACD,GAHD;;AAIA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoB5B,KAAK,CAACc,QAAN,CAAe;AACvCe,IAAAA,IAAI,EAAE,KADiC;AAEvCC,IAAAA,GAAG,EAAE,EAFkC;AAGvCC,IAAAA,IAAI,EAAE;AAHiC,GAAf,CAA1B;;AAKA,QAAMC,SAAS,GAAG,CAAC;AAAEF,IAAAA,GAAF;AAAOC,IAAAA,IAAI,GAAG;AAAd,GAAD,KAA+B;AAC/CH,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,GAAd;AAAmBC,MAAAA;AAAnB,KAAD,CAAR;AACD,GAFD;;AAGA,QAAME,SAAS,GAAG,MAAM;AACtBL,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYE,MAAAA,IAAI,EAAE;AAAlB,KAAD,CAAR;AACD,GAFD;;AAGA,sBACE,oBAAC,WAAD,CAAa,QAAb;AACE,IAAA,KAAK,EAAE;AACLjB,MAAAA,IADK;AAELU,MAAAA,SAFK;AAGLG,MAAAA,UAHK;AAILE,MAAAA,KAJK;AAKLK,MAAAA,SALK;AAMLC,MAAAA,SANK;AAOLlB,MAAAA;AAPK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWGJ,QAXH,CADF;AAeD;;AAED,SAASD,YAAT,EAAuBT,WAAvB","sourcesContent":["// user context\r\nimport React from \"react\";\r\n\r\nconst UserContext = React.createContext();\r\n\r\nfunction getUserFromLocalStorage() {\r\n  return localStorage.getItem(\"user\")\r\n    ? JSON.parse(localStorage.getItem(\"user\"))\r\n    : { username: null, token: null };\r\n}\r\n\r\nfunction UserProvider({ children }) {\r\n  // const [user, setUser] = React.useState({ username: null, token: null });\r\n  const [user, setUser] = React.useState(getUserFromLocalStorage());\r\n  const [height, setHeight] = React.useState(0);\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"scroll\", () => {\r\n      setHeight(window.pageYOffset);\r\n    });\r\n    return () => window.removeEventListener(\"scroll\", () => {});\r\n  });\r\n\r\n  const userLogin = user => {\r\n    setUser(user);\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n  };\r\n\r\n  const userLogout = () => {\r\n    setUser({ username: null, token: null });\r\n    localStorage.removeItem(\"user\");\r\n  };\r\n  const [alert, setAlert] = React.useState({\r\n    show: false,\r\n    msg: \"\",\r\n    type: \"success\"\r\n  });\r\n  const showAlert = ({ msg, type = \"success\" }) => {\r\n    setAlert({ show: true, msg, type });\r\n  };\r\n  const hideAlert = () => {\r\n    setAlert({ ...alert, show: false });\r\n  };\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        user,\r\n        userLogin,\r\n        userLogout,\r\n        alert,\r\n        showAlert,\r\n        hideAlert,\r\n        height\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport { UserProvider, UserContext };\r\n"]},"metadata":{},"sourceType":"module"}